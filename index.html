<html>
<meta charset="utf-8">
<head>
<title>Bubble map</title>
<style type = "text/css">

path {
  fill: none;
  stroke: #000;
  stroke-linejoin: round;
  stroke-linecap: round;
}

</style>
</head>
<body>
hello
<script src="d3.v3.min.js" charset="utf-8"></script>
<script src="topojson.v1.min.js"></script>
<script>

var width = 960,
    height = 600;

// var projection = d3.geo.albers()
//     .center([0, 55.4])
//     .rotate([4.4, 0])
//     .parallels([50, 60])
//     .scale(6000)
//     .translate([width / 2, height / 2]);

var projection = d3.geo.albersUsa()
  .scale(1000)
  .translate([width / 2, height / 2]);

var path = d3.geo.path()
    .projection(projection);

var svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height);

var county_group = svg.append('g')

var svg = svg.append('h')


d3.json("build/counties_topo.json", function(error, us) {
  if (error) return console.error(us);

  console.log('the fetures', topojson.feature(us, us.objects.counties).features)

  var counties = topojson.feature(us, us.objects.counties).features

  var country = topojson
    .mesh(us, us.objects.counties, function(a, b) { return a.properties.COUNTY === b.properties.COUNTY; })

  var states = topojson
    .mesh(us, us.objects.counties, function(a, b) { return a.properties.STATE !== b.properties.STATE; })
  
  
  //var states = topojson.feature(states, states.objects.counties).features



  county_group
    .selectAll('.counties')
    .data([country])
    .enter()
    .append("path")
      .attr("d", path);

  svg
    .selectAll('.counties')
    .data([country])
    .enter()
    .append("path")
      .attr("d", path);
});

</script>
</body>
</html>

